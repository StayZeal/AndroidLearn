耗时操作

等待锁：线程阻塞到唤起，需要用户态到内核态的切换。最耗时

加锁：也耗时，可以进行优化

自旋锁：不阻塞，一直等，可设置等待次数
自适应：虚拟机自己选择等待次数

锁消除：在一些不需要加锁的场景，不加锁。

锁粗化：避免频繁加锁

轻量级锁：依据：绝大部分的锁，在整个同步周期内都是不存在竞争的。无人竞争，使用CAS代替加锁。有人竞争，则加锁（重量级锁）

偏向锁：一旦获取，就一直持有，等有人竞争再释放。
